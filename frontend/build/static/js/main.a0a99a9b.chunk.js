(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{229:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(48),i=a.n(r),l=(a(229),a(42)),s=a(6),o=a(537),j=a(17),d=a(177),b=a(20),u=a(194),x=a(620),h=a(93),O=a(621),p=a(23),m=a.n(p),f=a(35),g=a(11),v=a(624),C=a(195),y=a(547),w=a(625),k=a(628),S=a(627),A=a(178),E=a(179),T=a(594),M=a(0);function D(e){var t=Object(A.a)(/(<span class="math\x2Dcontainer" id="[0-9a-z]+">)(.*?)(?=<\/span>|$)(<\/span>)/g,{open:1,formel:2,close:3});return e=e.replaceAll(t,"$$$<formel>$$")}function P(e){var t=e.text;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(T.a,{dynamic:!0,children:Object(E.a)(D(t))})})}var I=a(67),R=a(607),_=a(613),W=a(595),L=["node","inline","className","children"];function N(e){var t,a=e.text;return Object(M.jsx)(R.a,{className:"code-block",components:{code:function(e){e.node;var t=e.inline,a=e.className,n=e.children,c=Object(I.a)(e,L),r=/language-(\w+)/.exec(a||"");return!t&&r?Object(M.jsx)(_.a,Object(g.a)(Object(g.a)({wrapLongLines:!0,style:W.a,language:r[1],PreTag:"div"},c),{},{children:String(n).replace(/\n$/,"")})):Object(M.jsx)("code",Object(g.a)(Object(g.a)({className:a},c),{},{children:n}))}},children:(t=a,"```java\n".concat(t,"\n```"))})}function B(e){var t=e.result,a=t.title,n=t.body,c="java"===t.language?Object(M.jsx)(N,{text:n}):Object(M.jsx)(P,{text:n});return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(w.a,{sx:{mb:4},children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(k.a,{variant:"h6",underline:"hover",href:"#todo",children:a}),c]})})})}var z=a(622),F=a(623),U=a(196),q=a(198),$=a(197),G=a(189),H=a(190),J=a(27),V=a(602),K=a(3),X=a(109),Q=a.n(X),Y=a(4),Z=a(116),ee=a(34),te=Object(Y.a)("div")((function(e){var t=e.theme;return Object(K.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(Z.a)(t.palette.text.primary,.25),"&:hover":{backgroundColor:Object(Z.a)(t.palette.text.primary,.45)},marginLeft:t.spacing(2),marginRight:t.spacing(2),width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),ae=Object(Y.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),ne=Object(Y.a)(ee.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(K.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"15ch","&:focus":{width:"40ch"}})}}));function ce(e){var t=e.placeholder,a=e.value,n=e.onChange;return Object(M.jsxs)(te,{children:[Object(M.jsx)(ae,{children:Object(M.jsx)(Q.a,{})}),Object(M.jsx)(ne,{placeholder:t,value:a,onChange:n,inputProps:{"aria-label":"search"}})]})}var re=Object(j.b)({key:"query",default:{database:"",model:"",index:"",language:"english",text:"",url:"",code:"",equation:"",mode:"default",page:1}}),ie=a.p+"static/media/SELMA-Logo_code.d94e08e5.svg",le=a(631),se=a(634),oe=a(632),je=a(601),de=a(188),be=a.n(de),ue=a(630),xe=a(614),he=a(548),Oe=a(633),pe=c.a.createContext({toggleColorMode:function(){}}),me=a(629),fe=Object(Y.a)(me.a)((function(e){var t=e.theme;return{width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===t.palette.mode?"#003892":"#001e3c",width:32,height:32,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}})),ge=a(15),ve="/api/v1",Ce={"Content-Type":"application/json"},ye=Object(j.c)({key:"dataStructure",get:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/data-structure"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),we=Object(j.c)({key:"dbs",get:function(e){var t=(0,e.get)(ye);return Object.keys(t)}}),ke=(Object(j.c)({key:"filteredModels",get:function(e){var t=e.get,a=t(re).database,n=t(ye);return n[a]?Object.keys(n[a]):[]}}),Object(j.c)({key:"filteredIndexes",get:function(e){var t=e.get,a=t(ye),n=t(re),c=n.database,r=n.model;return a[c]&&a[c][r]?a[c][r]:[]}}),Object(j.c)({key:"languages",get:function(){return["english"]}})),Se={name:"",model:"",mode:"default",language:"",text:"",code:"",equation:"",url:"",database:"",index:""},Ae=Object(j.b)({key:"examples",default:Object(j.c)({key:"examplesLoader",get:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/query-templates"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}),Ee=Object(j.b)({key:"configs",default:Object(j.c)({key:"configsLoader",get:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/configs"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})});function Te(){var e=Object(j.g)(Ae),t=Object(s.a)(e,2)[1],a=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/query-templates"),{method:"POST",body:JSON.stringify(a),headers:Ce});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,r=c.queryTemplate,t((function(e){return[].concat(Object(ge.a)(e),[r])}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var e=Object(f.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/query-templates/").concat(a),{method:"DELETE",headers:Ce});case 2:t((function(e){return e.filter((function(e){return e.id!==a}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{createExample:a,deleteExample:n}}function Me(){var e=Object(j.g)(Ee),t=Object(s.a)(e,2)[1],a=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ve,"/configs"),{method:"POST",body:JSON.stringify(a),headers:Ce});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{updateConfigs:a}}function De(){var e=c.a.useContext(pe),t=Me().updateConfigs,a=c.a.useState(!1),n=Object(s.a)(a,2),r=n[0],i=n[1],l=Object(j.g)(Ee),o=Object(s.a)(l,2),d=o[0],b=o[1],u=c.a.useState(d),x=Object(s.a)(u,2),h=x[0],O=x[1],p=function(e){var t=e.target,a=t.name,n=t.checked;O((function(e){return Object(g.a)(Object(g.a)({},e),{},{allowed_search_modes:Object(g.a)(Object(g.a)({},e.allowed_search_modes),{},Object(K.a)({},a,n))})}))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ue.a,{size:"large",edge:"end","aria-haspopup":"true",onClick:function(){return i(!0)},sx:{ml:2},children:Object(M.jsx)(be.a,{})}),Object(M.jsxs)(le.a,{fullWidth:!0,maxWidth:"sm",open:r,onClose:function(){i(!1)},children:[Object(M.jsx)(je.a,{children:"Settings"}),Object(M.jsx)(oe.a,{children:Object(M.jsxs)(V.a,{spacing:2,children:[Object(M.jsx)(y.a,{variant:"subtitle1",children:"Allowed search modes:"}),Object(M.jsxs)(he.a,{row:!0,sx:{justifyContent:"space-evenly"},children:[Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{disabled:!0,onChange:p,checked:!0,name:"default",inputProps:{"aria-label":"allow default search"}}),label:"Default"}),Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{onChange:p,checked:h.allowed_search_modes.separated,name:"separated",inputProps:{"aria-label":"allow separated search"}}),label:"Separated"}),Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{onChange:p,checked:h.allowed_search_modes.url,name:"url",inputProps:{"aria-label":"allow url or id search"}}),label:"URL or ID"}),Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{onChange:p,checked:h.allowed_search_modes.file,name:"file",inputProps:{"aria-label":"allow file search"}}),label:"File"})]}),Object(M.jsx)(y.a,{variant:"subtitle1",children:"Theme:"}),Object(M.jsx)(V.a,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center",children:Object(M.jsx)(fe,{onClick:e.toggleColorMode})})]})}),Object(M.jsxs)(se.a,{children:[Object(M.jsx)($.a,{onClick:function(){i(!1),O(d)},children:"Cancel"}),Object(M.jsx)($.a,{onClick:function(){i(!1),t(h),b(h)},children:"Apply"})]})]})]})}var Pe=["children","value","index"];function Ie(e){var t=e.children,a=e.window,n=Object(G.a)({target:a?a():void 0});return Object(M.jsx)(H.a,{appear:!1,direction:"down",in:!n,children:t})}function Re(e){var t=e.children,a=e.value,n=e.index,c=Object(I.a)(e,Pe);return Object(M.jsx)("div",Object(g.a)(Object(g.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),{},{children:a===n&&Object(M.jsx)(h.a,{sx:{p:3},children:t})}))}function _e(){var e=Object(J.a)(),t=c.a.useState(0),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(j.g)(re),o=Object(s.a)(i,2),d=o[0],b=o[1],u=Object(l.d)(),x=Object(s.a)(u,2)[1],O=c.a.useState(d.text),p=Object(s.a)(O,2),m=p[0],f=p[1],v="light"===e.palette.mode?"dark-logo":"light-logo";return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Ie,{children:Object(M.jsxs)(z.a,{position:"fixed",elevation:0,sx:{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:"secondary.main"},children:[Object(M.jsxs)(F.a,{children:[Object(M.jsx)(h.a,{sx:{display:"block",height:"32px",width:"32px",paddingRight:"64px"},children:Object(M.jsx)(l.b,{to:{pathname:"/"},style:{textDecoration:"none",color:"#ffffff"},children:Object(M.jsxs)(V.a,{direction:"row",children:[Object(M.jsx)("img",{className:v,src:ie,alt:"Selma retrieval system"}),Object(M.jsx)(y.a,{variant:"h6",sx:{ml:2},children:"SELMA"})]})})}),Object(M.jsx)(Re,{value:n,index:0,children:Object(M.jsxs)(h.a,{onSubmit:function(e){e.preventDefault(),x({text:m,database:d.database,model:d.model,index:d.index,language:d.language,page:"1"})},component:"form",sx:{display:"flex",alignItems:"center"},children:[Object(M.jsx)(ce,{value:m,onChange:function(e){var t=e.target.value;f(t)},placeholder:"Search"}),Object(M.jsx)($.a,{type:"submit",variant:"contained",children:"Go"})]})}),Object(M.jsx)(h.a,{sx:{flexGrow:1}}),Object(M.jsx)(De,{})]}),Object(M.jsx)(F.a,{variant:"dense",children:Object(M.jsx)(U.a,{value:n,onChange:function(e,t){var a={0:"default",1:"separated",2:"url",3:"file"}[t];r(t),b(Object(g.a)(Object(g.a)({},d),{},{mode:a}))},style:{height:"32px"},children:Object(M.jsx)(q.a,{label:"Default"})})})]})})})}function We(){var e=Object(l.d)(),t=Object(s.a)(e,1)[0],a=c.a.useState(void 0),n=Object(s.a)(a,2),r=n[0],i=n[1],o=c.a.useState(!0),d=Object(s.a)(o,2),u=d[0],x=d[1],p=c.a.useState(10),w=Object(s.a)(p,1)[0],k=Object(j.g)(re),S=Object(s.a)(k,2),A=S[0],E=S[1],T=Number(t.get("page")),D=t.get("text"),P=t.get("database"),I=t.get("model"),R=t.get("index"),_=Object(b.g)();c.a.useEffect((function(){E(Object(g.a)(Object(g.a)({},A),{text:D,database:P,model:I,index:R,page:T}));var e=function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/v1/search?"+"text=".concat(D,"&")+"database=".concat(P,"&")+"model=".concat(I,"&")+"index=".concat(R,"&")+"page=".concat(T,"&")+"model-language=english",e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,i(n.results),x(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x(!0),e()}),[t]);var W=Object(M.jsx)(M.Fragment,{children:"TODO: Error"});return u?W=Object(M.jsx)(h.a,{sx:{display:"flex",justifyContent:"center"},children:Object(M.jsx)(O.a,{})}):Array.isArray(r)&&(W=0===r.length?Object(M.jsx)(y.a,{variant:"h2",color:"text.primary",children:"\ud83d\ude2d 0 Results"}):Object(M.jsxs)(M.Fragment,{children:[r.slice(0,w).map((function(e){return Object(M.jsx)(B,{result:e},e.id)})),Object(M.jsx)(h.a,{sx:{display:"flex",justifyContent:"center"},children:Object(M.jsx)(C.a,{color:"secondary",page:T,count:10,onChange:function(e,t){_({search:Object(l.c)({text:D,database:P,model:I,index:R,language:"english",page:"".concat(t)}).toString()})},sx:{mt:4,mb:8}})})]})),Object(M.jsxs)(h.a,{sx:{display:"flex",justifyContent:"center",bgcolor:"background.paper",minHeight:"100%"},children:[Object(M.jsx)(_e,{}),Object(M.jsx)("main",{style:{maxWidth:"sm",display:"flex",flexDirection:"column",marginTop:"135px",paddingTop:"12px"},children:Object(M.jsx)(v.a,{maxWidth:"md",sx:{display:"flex",justifyContent:"center",flexDirection:"column",flexGrow:1},children:W})})]})}var Le=a(191),Ne=a.n(Le),Be=a(636),ze=a(608);function Fe(e){var t=e.onClose,a=e.isOpen,n=e.dataStructure,r=Object(j.i)(ke),i=Object(j.g)(Ee),l=Object(s.a)(i,2),o=l[0],d=l[1],b=c.a.useState(o),u=Object(s.a)(b,2),x=u[0],h=u[1],O=Me().updateConfigs,p=c.a.useState([]),v=Object(s.a)(p,2),C=v[0],y=v[1],w=c.a.useState([]),k=Object(s.a)(w,2),S=k[0],A=k[1],E=Object(j.g)(re),T=Object(s.a)(E,2),D=T[0],P=T[1],I=Object(j.i)(we);c.a.useEffect((function(){D.database&&n[D.database]?A(Object.keys(n[D.database])):A([]),n[D.database]&&n[D.database][D.model]?y(n[D.database][D.model]):y([])}),[D]);var R=function(e){var t=e.target,a=t.name,n=t.value;h((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(K.a)({},a,n))}))},_=function(e){var t=e.target,a=t.name,n=t.value;P(Object(g.a)(Object(g.a)({},D),{},Object(K.a)({},a,n)))},W=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(x),d(x),t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(le.a,{maxWidth:"sm",fullWidth:!0,open:a,onClose:function(){return t()},children:[Object(M.jsx)(je.a,{children:"Advanced Search Settings"}),Object(M.jsx)(oe.a,{children:Object(M.jsxs)(V.a,{sx:{pt:2},spacing:2,children:[Object(M.jsxs)(ze.a,{label:"Database",name:"database",value:D.database,onChange:_,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{value:""}),I.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(ze.a,{label:"Model",name:"model",value:D.model,onChange:_,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{value:""}),S.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(ze.a,{label:"Index",name:"index",value:D.index,onChange:_,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{value:""}),C.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(ze.a,{label:"Language",name:"language",value:D.language,onChange:_,disabled:!0,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{value:""}),r.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsx)(ze.a,{onChange:R,label:"DATABASE_PATH",variant:"filled",name:"db_path",value:x.db_path}),Object(M.jsx)(ze.a,{onChange:R,label:"DB_TABLE_NAME",variant:"filled",name:"db_table_name",value:x.db_table_name}),Object(M.jsx)(ze.a,{onChange:R,label:"DB_CONTENT_ATTRIBUTE_NAME",variant:"filled",name:"db_content_attribute_name",value:x.db_content_attribute_name}),Object(M.jsx)(ze.a,{onChange:R,label:"INDEX_PATH",variant:"filled",name:"index_path",value:x.index_path}),Object(M.jsx)($.a,{onClick:W,children:"Apply"})]})})]})}function Ue(){var e=Object(b.g)(),t=Object(j.g)(re),a=Object(s.a)(t,2),n=a[0],r=a[1],i=Object(j.i)(ye),o=c.a.useState([]),d=Object(s.a)(o,2),u=d[0],x=d[1],h=c.a.useState(!1),O=Object(s.a)(h,2),p=O[0],m=O[1],f=c.a.useState({}),v=Object(s.a)(f,2),C=v[0],y=v[1];c.a.useEffect((function(){var e=Object.keys(i)[0],t=Object.keys(i[e])[0],a=i[e][t][0];r((function(n){return Object(g.a)(Object(g.a)({},n),{},{database:e,model:t,index:a})}))}),[]),c.a.useEffect((function(){n.database&&i[n.database]?x(Object.keys(i[n.database])):x([])}),[n]);var w=function(e){var t=e.target,a=t.name,c=t.value;r(Object(g.a)(Object(g.a)({},n),{},Object(K.a)({},a,c)))};return Object(M.jsxs)(V.a,{onSubmit:function(t){t.preventDefault();var a=function(){var e={};return"default"===n.mode&&""===n.text&&(e.text="Text is required in default search mode"),""===n.database&&(e.database="Database is required"),""===n.model&&(e.model="Model is required"),""===n.index&&(e.index="This model requires an index"),e}();y(a),0===Object.keys(a).length&&e({pathname:"results",search:Object(l.c)({text:n.text,database:n.database,model:n.model,index:n.index,language:n.language,page:"1"}).toString()})},direction:"row",component:"form",role:"search",justifyContent:"center",children:[Object(M.jsxs)(ze.a,{select:!0,value:n.model,onChange:w,label:"Model",name:"model",SelectProps:{native:!0},sx:{flexGrow:1,minWidth:"192px",fieldset:{borderRadius:"4px 0 0 4px"}},children:[Object(M.jsx)("option",{value:""}),u.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsx)(ze.a,{label:"Query",name:"text",value:n.text,onChange:w,sx:{flexGrow:5,".MuiInputBase-root":{paddingRight:"8px"},fieldset:{borderRadius:"0 4px 4px 0",marginLeft:"-1px"}},InputProps:{startAdornment:Object(M.jsx)(Be.a,{position:"start",children:Object(M.jsx)(Q.a,{})}),endAdornment:Object(M.jsx)(Be.a,{position:"end",children:Object(M.jsx)(ue.a,{onClick:function(){return m(!0)},"aria-label":"advanced search",size:"large",children:Object(M.jsx)(Ne.a,{})})})}}),Object(M.jsx)(Fe,{errors:C,dataStructure:i,isOpen:p,onClose:function(){return m(!1)}})]})}function qe(){var e="light"===Object(J.a)().palette.mode?"dark-logo":"light-logo";return Object(M.jsxs)(h.a,{sx:{textAlign:"center",minWidth:"80%"},children:[Object(M.jsxs)(V.a,{direction:"row",sx:{justifyContent:"center",alignItems:"center",mb:6},children:[Object(M.jsx)("img",{className:e,src:ie,alt:"Selma retrieval system"}),Object(M.jsx)(y.a,{variant:"h2",sx:{color:"text.primary",fontWeight:800},children:"SELMA"})]}),Object(M.jsx)(Ue,{})]})}var $e=a(639),Ge=a(193),He=a.n(Ge),Je=a(635),Ve=a(603),Ke=a(606),Xe=a(611),Qe=a(638),Ye=a(617),Ze=a(605),et=a(637),tt=a(192),at=a.n(tt);function nt(e){var t=e.example,a=t.id,n=t.name,c=t.text,r=t.url,i=t.database,l=t.model,s=t.index,o=t.code,j=t.language,d=t.equation,b=t.mode,u=e.isLast,x=e.onChooseExample,h=e.onClose,O=Te().deleteExample;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ye.a,{alignItems:"flex-start",secondaryAction:Object(M.jsx)(ue.a,{edge:"end","aria-label":"delete",onClick:function(){O(a),h()},children:Object(M.jsx)(at.a,{})}),disablePadding:!0,children:Object(M.jsx)(Ze.a,{onClick:function(){var e={database:i,model:l,index:s,language:j,mode:b,page:1};"default"===b?e.text=c:"separated"===b?(e.code=o,e.equation=d):"url"===b?e.url=r:console.error("TODO"),x(e),h()},children:Object(M.jsx)(et.a,{primary:n})})},a),!u&&Object(M.jsx)(Qe.a,{})]})}function ct(e){var t=e.onClose,a=Object(j.i)(Ae),n=Object(j.g)(re),c=Object(s.a)(n,2)[1];return 0===a.length?Object(M.jsx)(h.a,{textAlign:"center",children:Object(M.jsx)(y.a,{variant:"subtitle1",children:"There are no query examples available, please create one."})}):Object(M.jsx)(M.Fragment,{children:a.map((function(e,n){return Object(M.jsx)(nt,{onClose:t,onChooseExample:c,example:e,isLast:n===a.length-1},e.id)}))})}function rt(e){var t=e.isOpen,a=e.onClose,c=n.useState(Se),r=Object(s.a)(c,2),i=r[0],l=r[1],o=Te().createExample,d=Object(j.i)(we),b=Object(j.i)(ye),u=n.useState([]),x=Object(s.a)(u,2),h=x[0],O=x[1],p=n.useState([]),m=Object(s.a)(p,2),f=m[0],v=m[1];n.useEffect((function(){i.database&&b[i.database]?O(Object.keys(b[i.database])):O([]),b[i.database]&&b[i.database][i.model]?v(b[i.database][i.model]):v([])}),[i]);var C=function(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(K.a)({},a,n))}))};return Object(M.jsxs)(le.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:a,children:[Object(M.jsx)(je.a,{children:"Create Example"}),Object(M.jsx)(oe.a,{children:Object(M.jsxs)(V.a,{component:"form",spacing:2,children:[Object(M.jsx)(ze.a,{label:"Name",name:"name",variant:"filled",fullWidth:!0,value:i.name,onChange:C}),Object(M.jsxs)(ze.a,{label:"Database",name:"database",variant:"filled",fullWidth:!0,select:!0,SelectProps:{native:!0},value:i.database,onChange:C,children:[Object(M.jsx)("option",{value:""}),d.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(ze.a,{label:"Model",name:"model",variant:"filled",fullWidth:!0,select:!0,SelectProps:{native:!0},value:i.model,onChange:C,children:[Object(M.jsx)("option",{value:""}),h.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(ze.a,{label:"Indexes",name:"index",variant:"filled",fullWidth:!0,select:!0,SelectProps:{native:!0},value:i.index,onChange:C,children:[Object(M.jsx)("option",{value:""}),f.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]}),Object(M.jsxs)(Je.a,{component:"fieldset",children:[Object(M.jsx)(Ve.a,{component:"legend",children:"Search mode:"}),Object(M.jsxs)(Ke.a,{row:!0,defaultValue:"default",onChange:C,"aria-label":"search mode",name:"mode",sx:{justifyContent:"space-evenly"},children:[Object(M.jsx)(Oe.a,{value:"default",control:Object(M.jsx)(Xe.a,{}),label:"Default"}),Object(M.jsx)(Oe.a,{value:"separated",control:Object(M.jsx)(Xe.a,{}),label:"Separated"}),Object(M.jsx)(Oe.a,{value:"url",control:Object(M.jsx)(Xe.a,{}),label:"URL"})]})]}),"default"===i.mode&&Object(M.jsx)(ze.a,{label:"Text",name:"text",variant:"filled",fullWidth:!0,value:i.text,onChange:C})]})}),Object(M.jsxs)(se.a,{children:[Object(M.jsx)($.a,{onClick:a,children:"Cancel"}),Object(M.jsx)($.a,{onClick:function(){var e={name:i.name,text:i.text,database:i.database,model:i.model,index:i.index,language:i.language,mode:i.mode};o(e),a()},children:"Create"})]})]})}function it(e){var t=e.isOpen,a=e.onClose;return Object(M.jsxs)(le.a,{fullWidth:!0,maxWidth:"sm",open:t,onClose:a,children:[Object(M.jsx)(je.a,{children:"Query Examples"}),Object(M.jsx)(oe.a,{children:Object(M.jsx)(ct,{onClose:a})}),Object(M.jsx)(se.a,{children:Object(M.jsx)($.a,{onClick:a,children:"Cancel"})})]})}function lt(){var e=n.useState(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=n.useState(void 0),i=Object(s.a)(r,2),l=i[0],o=i[1],j=function(){c(!1)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)($e.a,{sx:{mr:2},variant:"outlined",children:[Object(M.jsx)($.a,{name:"list",onClick:function(){o("list"),c(!0)},children:"Examples"}),Object(M.jsx)($.a,{name:"create",size:"small",onClick:function(){o("create"),c(!0)},children:Object(M.jsx)(He.a,{})})]}),"create"===l&&Object(M.jsx)(rt,{isOpen:a,onClose:j}),"list"===l&&Object(M.jsx)(it,{isOpen:a,onClose:j})]})}var st,ot=a(609),jt=a(615),dt=a(640),bt=a(612),ut=a(618),xt=a(69),ht="PyterrierColbert",Ot="CODETRANS",pt="PLBART",mt="KEYWORDS",ft={url:"",model:null,database:"",index:"",expansionMethods:(st={},Object(K.a)(st,Ot,!1),Object(K.a)(st,pt,!1),Object(K.a)(st,mt,!1),st),neuralIndexingMethod:null,collectionAction:null,indexingAction:null};function gt(){var e=n.useState(0),t=Object(s.a)(e,2),a=t[0],c=t[1],r=n.useState(!1),i=Object(s.a)(r,2),l=i[0],o=i[1],d=n.useState(!1),b=Object(s.a)(d,2),u=b[0],x=b[1],p=n.useState(ft),m=Object(s.a)(p,2),f=m[0],v=m[1],C=n.useState([]),w=Object(s.a)(C,2),k=w[0],S=w[1],A=Object(j.i)(we),E=n.useState(!1),T=Object(s.a)(E,2),D=T[0],P=T[1],I=n.useState(!1),R=Object(s.a)(I,2),_=R[0],W=R[1],L=n.useState(!1),N=Object(s.a)(L,2),B=N[0],z=N[1],F=Object(j.e)(ye),U=Object(j.i)(ye);n.useEffect((function(){null!=f.model&&(U[f.database]&&U[f.database][f.model]?S(U[f.database][f.model]):S([]))}),[f.model]);var q=["Git URL","Choose Collection","Choose Model","Indexing Options","Confirmation"],G=function(e){var t=e.target,a=t.name,n=t.value;v((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(K.a)({},a,n))}))};var H=function(e){var t=e.target.value,a=function(e){var t=e.split("/"),a=t[t.length-1];return a.endsWith(".git")?a.slice(0,-4):a}(t);v((function(e){return Object(g.a)(Object(g.a)({},e),{},{url:t,database:a})}))},J=function(e){var t=e.target,a=t.name,n=t.checked;v((function(e){return Object(g.a)(Object(g.a)({},e),{},{expansionMethods:Object(g.a)(Object(g.a)({},e.expansionMethods),{},Object(K.a)({},a,n))})}))},X=function(e){var t=e.target,a=t.name,n=t.value;"CREATE"===n?v((function(e){return Object(g.a)(Object(g.a)({},e),{},{indexingAction:"CREATE"})})):"UPDATE"===n&&v((function(e){return Object(g.a)(Object(g.a)({},e),{},{indexingAction:null})})),v((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(K.a)({},a,n))}))},Q=function(){v(ft),c(0)},Y=function(){D||(W(!1),P(!0),fetch("".concat(ve,"/index"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(){F(),P(!1),W(!0),o(!1),x(!0),Q()})).catch((function(){P(!1),W(!1),z(!0)})))},Z=function(){return a===q.length-1},ee=function(){var e=[];return Object.entries(f.expansionMethods).map((function(t){return t[1]&&e.push(t[0]),null})),e.join(", ").replace(/, ([^,]*)$/," and $1")},te=Object(g.a)({},_&&{bgcolor:xt.a[500],"&:hover":{bgcolor:xt.a[700]}});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)($.a,{variant:"contained",name:"list",onClick:function(){o(!0)},children:"Index repo"}),Object(M.jsxs)(le.a,{open:l,onClose:function(){o(!1)},PaperProps:{sx:{width:"50%",minHeight:480}},children:[Object(M.jsx)(je.a,{children:"Add Code Base"}),Object(M.jsx)(oe.a,{children:Object(M.jsxs)(V.a,{component:"form",spacing:2,children:[Object(M.jsx)(ut.a,{activeStep:a,alternativeLabel:!0,children:q.map((function(e){return Object(M.jsx)(dt.a,{children:Object(M.jsx)(bt.a,{children:e})},e)}))}),function(e){switch(e){case 0:return Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{sx:{mb:2},children:"Which Git repository do you wish to index?"}),Object(M.jsx)(ze.a,{label:"Git Repository Url",name:"url",variant:"filled",fullWidth:!0,value:f.url,onChange:H})]});case 1:return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{sx:{mb:2},children:"Would you like to create a new collection or update an existing one?"}),Object(M.jsxs)(Ke.a,{row:!0,name:"collectionAction",value:f.collectionAction,onChange:X,children:[Object(M.jsx)(Oe.a,{value:"CREATE",control:Object(M.jsx)(Xe.a,{}),label:"Create new collection"}),Object(M.jsx)(Oe.a,{value:"UPDATE",control:Object(M.jsx)(Xe.a,{}),label:"Update existing collection"})]})]}),"CREATE"===f.collectionAction&&Object(M.jsx)(ze.a,{label:"Name",name:"database",variant:"filled",fullWidth:!0,value:f.database,onChange:G,helperText:"Name of new collection"}),"UPDATE"===f.collectionAction&&Object(M.jsxs)(ze.a,{label:"Collection",name:"database",value:f.database,onChange:G,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{disabled:!0,value:""}),A.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]})]});case 2:return Object(M.jsxs)(M.Fragment,{children:["UPDATE"===f.collectionAction&&Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{sx:{mb:2},children:"Would you like to create a new index or update an existing one?"}),Object(M.jsxs)(Ke.a,{row:!0,name:"indexingAction",value:f.indexingAction,onChange:G,children:[Object(M.jsx)(Oe.a,{value:"CREATE",control:Object(M.jsx)(Xe.a,{}),label:"Create new index"}),Object(M.jsx)(Oe.a,{value:"UPDATE",control:Object(M.jsx)(Xe.a,{}),label:"Update existing index"})]})]}),f.indexingAction&&Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{sx:{mb:2},children:"Which kind of index would you like to create?"}),Object(M.jsxs)(Ke.a,{row:!0,name:"model",value:f.model,onChange:G,children:[Object(M.jsx)(Oe.a,{value:"PyterrierModel",control:Object(M.jsx)(Xe.a,{}),label:"BM25"}),Object(M.jsx)(Oe.a,{disabled:!0,value:ht,control:Object(M.jsx)(Xe.a,{}),label:"ColBERT"})]})]}),"CREATE"===f.indexingAction&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ze.a,{label:"Name",name:"index",variant:"filled",fullWidth:!0,value:f.index,onChange:G,helperText:"Name of new index",disabled:null===f.model})}),"UPDATE"===f.indexingAction&&Object(M.jsxs)(ze.a,{label:"Index",name:"index",value:f.index,onChange:G,select:!0,SelectProps:{native:!0},children:[Object(M.jsx)("option",{disabled:!0,value:""}),k.map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]})]});case 3:return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{sx:{mb:2},children:"How would you like to expand your documents?"}),Object(M.jsxs)(he.a,{onChange:J,children:[Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{checked:f.expansionMethods.CODETRANS,onChange:G,name:Ot}),label:"CodeTrans"}),Object(M.jsx)(Oe.a,{control:Object(M.jsx)(xe.a,{checked:f.expansionMethods.PLBART,onChange:G,name:pt}),label:"PLBART"}),Object(M.jsx)(Oe.a,{disabled:!0,control:Object(M.jsx)(xe.a,{checked:f.expansionMethods.KEYWORDS,onChange:G,name:mt}),label:"Keywords"})]})]}),f.model===ht&&Object(M.jsxs)(Je.a,{children:[Object(M.jsx)(Ve.a,{children:"How would you like to index this?"}),Object(M.jsxs)(Ke.a,{row:!0,name:"neuralIndexingMethod",value:f.neuralIndexingMethod,onChange:G,children:[Object(M.jsx)(Oe.a,{value:"APPLIED",control:Object(M.jsx)(Xe.a,{}),label:"Applied"}),Object(M.jsx)(Oe.a,{value:"TRAINED",control:Object(M.jsx)(Xe.a,{}),label:"Trained"})]})]})]});case 4:return Object(M.jsxs)(M.Fragment,{children:[B&&Object(M.jsx)(ot.a,{severity:"error",children:"Something went wrong. Documents could not be indexed."}),Object(M.jsx)(y.a,{variant:"h5",children:"Indexing Summary:"}),Object(M.jsx)(y.a,{variant:"h6",children:"Source:"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Git URL: "}),Object(M.jsx)("span",{children:f.url})]}),Object(M.jsx)(Qe.a,{}),Object(M.jsx)(y.a,{variant:"h6",children:"Collection:"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Action: "}),Object(M.jsx)("span",{children:f.collectionAction})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Name: "}),Object(M.jsx)("span",{children:f.database})]}),Object(M.jsx)(Qe.a,{}),Object(M.jsx)(y.a,{variant:"h6",children:"Index:"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Action: "}),Object(M.jsx)("span",{children:f.indexingAction})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Model: "}),Object(M.jsx)("span",{children:f.model})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Name: "}),Object(M.jsx)("span",{children:f.index})]}),Object(M.jsx)(Qe.a,{}),Object(M.jsx)(y.a,{variant:"h6",children:"Document Expansion:"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("b",{children:"Methods: "}),Object(M.jsx)("span",{children:ee()})]})]});default:throw new Error("invalid step")}}(a)]})}),Object(M.jsx)(se.a,{children:a===q.length?Object(M.jsx)($.a,{onClick:Q,children:"Reset"}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)($.a,{color:"inherit",disabled:0===a,onClick:function(){c((function(e){return e-1}))},sx:{mr:1},children:"Back"}),a===q.length-1?Object(M.jsxs)(h.a,{sx:{m:1,position:"relative"},children:[Object(M.jsx)($.a,{variant:"contained",sx:te,disabled:D,onClick:Y,children:"Submit"}),D&&Object(M.jsx)(O.a,{size:24,sx:{color:xt.a[500],position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}):Object(M.jsx)($.a,{onClick:function(){Z()?Y():c((function(e){return e+1}))},disabled:function(){switch(a){case 0:case 4:return!1;case 1:return null===f.collectionAction||""===f.database;case 2:return""===f.model;case 3:return null===f.expansionMethods;default:return!0}}(),children:"Next"})]})})]}),Object(M.jsx)(jt.a,{open:u,autoHideDuration:600,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(M.jsx)(ot.a,{onClose:function(){x(!1)},severity:"success",sx:{width:"100%"},children:"Documents successfully indexed"})})]})}function vt(){var e=Object(j.i)(Ee).allowed_search_modes;return Object(M.jsxs)(h.a,{sx:{display:"flex",justifyContent:"center",height:"100vh",bgcolor:"background.paper"},children:[Object(M.jsx)(z.a,{position:"fixed",elevation:0,sx:{bgcolor:"background.paper"},children:Object(M.jsxs)(F.a,{children:[Object.entries(e).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(M.jsx)($.a,{disabled:!n,sx:{color:"text.primary"},href:a,children:a},a)})),Object(M.jsx)(h.a,{sx:{flexGrow:1}}),Object(M.jsx)(lt,{}),Object(M.jsx)(gt,{}),Object(M.jsx)(De,{})]})}),Object(M.jsx)("main",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"64px",minWidth:"80%",alignItems:"center"},children:Object(M.jsx)(b.a,{})})]})}function Ct(){var e=Object(j.g)(re),t=Object(s.a)(e,2),a=t[0],n=t[1],c=function(e){var t=e.target,c=t.name,r=t.value;n(Object(g.a)(Object(g.a)({},a),{},Object(K.a)({},c,r)))};return Object(M.jsxs)(V.a,{spacing:2,children:[Object(M.jsx)(ze.a,{sx:{width:"400px"},value:a.code,id:"filled-basic",label:"Code",variant:"filled",onChange:c}),Object(M.jsx)(ze.a,{sx:{width:"400px"},value:a.equation,id:"filled-basic",label:"Equations",variant:"filled",onChange:c}),Object(M.jsx)($.a,{variant:"contained",onClick:function(){console.error("TODO")},children:"Search"})]})}function yt(){return Object(M.jsx)(h.a,{sx:{textAlign:"center"},children:Object(M.jsx)(ze.a,{placeholder:"Enter ID or URL"})})}var wt={loader:{load:["[tex]/html"]},tex:{packages:{"[+]":["html"]},inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]}};function kt(){return Object(M.jsx)(h.a,{sx:{display:"flex",justifyContent:"center",height:"100vh",bgcolor:"background.paper"},children:Object(M.jsx)("main",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"64px",minWidth:"80%",alignItems:"center"},children:Object(M.jsx)(O.a,{})})})}function St(){var e=c.a.useState("dark"),t=Object(s.a)(e,2),a=t[0],n=t[1],r=c.a.useMemo((function(){return{toggleColorMode:function(){n((function(e){var t="light"===e?"dark":"light";return localStorage.setItem("darkState",t),t}))}}}),[]),i=c.a.useMemo((function(){return Object(u.a)({palette:{mode:a}})}),[a]);return c.a.useEffect((function(){var e=localStorage.getItem("darkState");e&&"light"===e?(r.toggleColorMode(),localStorage.setItem("darkState","light")):localStorage.setItem("darkState","dark")}),[]),Object(M.jsxs)(j.a,{children:[Object(M.jsx)(d.a,{}),Object(M.jsx)(pe.Provider,{value:r,children:Object(M.jsx)(x.a,{theme:i,children:Object(M.jsx)(c.a.Suspense,{fallback:Object(M.jsx)(kt,{}),children:Object(M.jsx)(o.b,{config:wt,children:Object(M.jsxs)(b.d,{children:[Object(M.jsxs)(b.b,{element:Object(M.jsx)(vt,{}),children:[Object(M.jsx)(b.b,{path:"/",element:Object(M.jsx)(qe,{})}),Object(M.jsx)(b.b,{path:"default",element:Object(M.jsx)(qe,{})}),Object(M.jsx)(b.b,{path:"separated",element:Object(M.jsx)(Ct,{})}),Object(M.jsx)(b.b,{path:"url",element:Object(M.jsx)(yt,{})})]}),Object(M.jsx)(b.b,{path:"results",element:Object(M.jsx)(We,{})})]})})})})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(l.a,{children:Object(M.jsx)(St,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[536,1,2]]]);
//# sourceMappingURL=main.a0a99a9b.chunk.js.map